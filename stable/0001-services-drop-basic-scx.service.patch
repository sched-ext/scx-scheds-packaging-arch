From 72106c2e08a47f9c6c2ae3602f4c41b81fe038d4 Mon Sep 17 00:00:00 2001
From: Piotr Gorski <lucjan.lucjanov@gmail.com>
Date: Fri, 12 Sep 2025 12:31:08 +0200
Subject: [PATCH] services: drop basic scx.service

Signed-off-by: Piotr Gorski <lucjan.lucjanov@gmail.com>
---
 services/README.md           | 79 ------------------------------------
 services/systemd/meson.build |  6 ---
 services/systemd/scx.service | 14 -------
 3 files changed, 99 deletions(-)
 delete mode 100644 services/README.md
 delete mode 100644 services/systemd/scx.service

diff --git a/services/README.md b/services/README.md
deleted file mode 100644
index 4e850d0d..00000000
--- a/services/README.md
+++ /dev/null
@@ -1,79 +0,0 @@
-# A Quick Start Guide
-
-This guide provides instructions for running the SCX schedulers as a systemd service and checking its logs.
-
-## Getting Started
-
-At the very beginning, configure the /etc/default/scx file:
-
-- in the SCX_SCHEDULER variable, select the scheduler you are interested in
-
-- in the SCX_FLAGS variable, specify the flags you want to add. To do this, execute and read what flags you can add.
-
-```
-scx_SCHEDNAME --help
-```
-
-To start the SCX scheduler at boot, you need to run the systemd service as root. Here are the steps:
-
-
-- Enable the service:
-
-```
-systemctl enable scx.service
-```
-
-- Start the service:
-
-```
-systemctl start scx.service
-```
-
-Alternatively, you can use a shortened version of these commands:
-
-```
-systemctl enable --now scx.service
-```
-
-- To check the status of the service, use the following command:
-
-```
-systemctl status scx.service
-```
-
-## Override global configuration
-
-It is possible to override the global scx settings using systemd environment
-variables `SCX_SCHEDULER_OVERRIDE` and `SCX_FLAGS_OVERRIDE`.
-
-Example:
-
-```
-systemctl set-environment SCX_SCHEDULER_OVERRIDE=scx_rustland
-systemctl set-environment SCX_FLAGS_OVERRIDE="-s 10000"
-systemctl restart scx
-```
-
-If you want to restore the default value from the `/etc/default/scx` file execute:
-
-```
-systemctl unset-environment SCX_SCHEDULER_OVERRIDE
-systemctl unset-environment SCX_FLAGS_OVERRIDE
-systemctl restart scx
-```
-
-## Checking journald Logs
-
-
-- To view the logs, use the following command:
-
-```
-journalctl -u scx.service
-```
-
-- To view the logs of the current session use the command
-
-```
-journalctl -u scx.service -b 0
-```
-
diff --git a/services/systemd/meson.build b/services/systemd/meson.build
index ac856b1e..8716b967 100644
--- a/services/systemd/meson.build
+++ b/services/systemd/meson.build
@@ -1,9 +1,6 @@
 # Get the directory for systemd system unit files
 systemd_system_unit_dir = systemd.get_variable(pkgconfig : 'systemdsystemunitdir')
 
-# Install the 'scx.service' file to the systemd system unit directory
-install_data('scx.service', install_dir: systemd_system_unit_dir)
-
 # Install the 'scx_loader.service' file to the systemd system unit directory
 install_data('scx_loader.service', install_dir: systemd_system_unit_dir)
 
@@ -12,6 +9,3 @@ install_data('org.scx.Loader.service', install_dir: '/usr/share/dbus-1/system-se
 
 # Install the default 'scx_loader' config file to the '$VENDORDIR/scx_loader' directory
 install_data('../scx_loader.toml', rename: 'config.toml', install_dir: get_option('vendordir') + '/scx_loader')
-
-# Install the 'scx' file to the '/etc/default' directory
-install_data('../scx', install_dir: '/etc/default')
diff --git a/services/systemd/scx.service b/services/systemd/scx.service
deleted file mode 100644
index 70be6975..00000000
--- a/services/systemd/scx.service
+++ /dev/null
@@ -1,14 +0,0 @@
-[Unit]
-Description=Start scx_scheduler
-StartLimitIntervalSec=30
-StartLimitBurst=2
-
-[Service]
-Type=simple
-EnvironmentFile=/etc/default/scx
-ExecStart=/bin/bash -c 'exec ${SCX_SCHEDULER_OVERRIDE:-$SCX_SCHEDULER} ${SCX_FLAGS_OVERRIDE:-$SCX_FLAGS} '
-Restart=on-failure
-StandardError=journal
-
-[Install]
-WantedBy=graphical.target
-- 
2.51.0

